<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SYAHJAYA INDO GRUP - E-Commerce Lengkap</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css">
    <script src="https://app.sandbox.midtrans.com/snap/snap.js" data-client-key="SB-Mid-client-YOUR_CLIENT_KEY"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(45deg, #764ba2, #667eea);
        }

        /* Global Styles */
        body {
            overflow-x: hidden;
        }

        /* Page Container */
        .page {
            display: none;
            min-height: 100vh;
        }

        .page.active {
            display: block;
        }

        /* Navigation */
        .nav-dots {
            position: fixed;
            right: 30px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
        }

        .nav-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-dot.active {
            background: white;
            transform: scale(1.2);
        }

        .nav-dot::after {
            content: attr(data-title);
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .nav-dot:hover::after {
            opacity: 1;
        }

        /* Floating Action Button */
        .fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .fab:hover {
            transform: scale(1.1) rotate(90deg);
        }

        .fab .badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        /* Header Styles */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            z-index: 999;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            padding: 0.5rem 0;
            background: rgba(255, 255, 255, 0.98);
        }

        /* Home Page Styles */
        .home-page {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }

        .home-page::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .hero-content {
            position: relative;
            z-index: 10;
        }

        .hero-title {
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
        }

        .hero-subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .floating-shapes {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 1;
        }

        .shape {
            position: absolute;
            opacity: 0.1;
        }

        .shape-1 {
            width: 300px;
            height: 300px;
            background: white;
            border-radius: 50%;
            top: -150px;
            left: -150px;
            animation: float 20s infinite ease-in-out;
        }

        .shape-2 {
            width: 200px;
            height: 200px;
            background: white;
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            bottom: -100px;
            right: -100px;
            animation: float 15s infinite ease-in-out reverse;
        }

        .shape-3 {
            width: 150px;
            height: 150px;
            background: white;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            top: 50%;
            left: 10%;
            animation: float 25s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(120deg); }
            66% { transform: translateY(30px) rotate(240deg); }
        }

        /* Category Page Styles */
        .category-page {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            min-height: 100vh;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            padding: 2rem;
        }

        .category-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .category-card:hover::before {
            transform: scaleX(1);
        }

        .category-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .category-icon {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Sellers Page Styles */
        .sellers-page {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            min-height: 100vh;
        }

        .seller-card-3d {
            perspective: 1000px;
            height: 400px;
        }

        .seller-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }

        .seller-card-3d:hover .seller-card-inner {
            transform: rotateY(180deg);
        }

        .seller-card-front, .seller-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .seller-card-front {
            background: white;
        }

        .seller-card-back {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: rotateY(180deg);
        }

        /* Products Page Styles */
        .products-page {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            min-height: 100vh;
        }

        .filter-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 1.5rem;
            margin: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
            padding: 0 2rem 2rem;
        }

        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .product-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .product-card:hover::before {
            transform: scaleX(1);
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 1.5rem;
        }

        .product-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #ef4444;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .dropship-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #10b981;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Dashboard Page Styles */
        .dashboard-page {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            min-height: 100vh;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
        }

        .dashboard-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        /* Dropshipper Page Styles */
        .dropshipper-page {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
        }

        .dropshipper-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .dropshipper-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .dropshipper-product {
            display: flex;
            align-items: center;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .dropshipper-product:hover {
            background: #f9fafb;
        }

        .dropshipper-product img {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 10px;
            margin-right: 1rem;
        }

        .commission-badge {
            background: #10b981;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        /* Dropshipper Dashboard Styles */
        .dropshipper-dashboard {
            background: linear-gradient(135deg, #d4fc79 0%, #96e6a1 100%);
            min-height: 100vh;
        }

        .commission-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .commission-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .commission-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }

        .status-paid {
            background: #d1fae5;
            color: #065f46;
        }

        .status-withdrawn {
            background: #dbeafe;
            color: #1e40af;
        }

        .withdraw-btn {
            background: linear-gradient(45deg, #3b82f6, #2563eb);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .withdraw-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(59, 130, 246, 0.3);
        }

        .withdraw-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Dropshipper Profile Page Styles */
        .dropshipper-profile {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
        }

        .profile-header {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .profile-stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
        }

        .profile-stat-number {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .sales-chart {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            height: 300px;
            position: relative;
        }

        .chart-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9fafb;
            border-radius: 10px;
        }

        /* Button Styles */
        .btn-primary {
            background: linear-gradient(45deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: none;
            cursor: pointer;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .btn-success {
            background: linear-gradient(45deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 0.75rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: right 0.3s ease;
            z-index: 999;
            overflow-y: auto;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-item {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 10px;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            z-index: 1001;
            animation: toastSlideUp 0.3s ease-out;
        }

        @keyframes toastSlideUp {
            from {
                transform: translate(-50%, 100px);
                opacity: 0;
            }
            to {
                transform: translate(-50%, 0);
                opacity: 1;
            }
        }

        /* Loading Spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Tabs */
        .tabs {
            display: flex;
            border-bottom: 2px solid #e5e7eb;
            margin-bottom: 1rem;
        }

        .tab {
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
        }

        .tab.active {
            border-bottom-color: #667eea;
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Form Styles */
        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Star Rating */
        .star-rating {
            display: inline-flex;
            gap: 0.25rem;
        }

        .star {
            color: #d1d5db;
            cursor: pointer;
            transition: color 0.2s;
        }

        .star.filled {
            color: #fbbf24;
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed;
            top: 0;
            left: -100%;
            width: 80%;
            max-width: 400px;
            height: 100vh;
            background: white;
            box-shadow: 5px 0 15px rgba(0,0,0,0.1);
            transition: left 0.3s ease;
            z-index: 1001;
            overflow-y: auto;
        }

        .mobile-menu.open {
            left: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-dots {
                display: none;
            }

            .cart-sidebar {
                width: 100%;
                right: -100%;
            }

            .category-grid,
            .product-grid,
            .dashboard-grid {
                grid-template-columns: 1fr;
                padding: 1rem;
            }

            .hero-title {
                font-size: 2.5rem;
            }

            .header {
                padding: 0.5rem 0;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Dots -->
    <div class="nav-dots">
        <div class="nav-dot active" data-title="Beranda" onclick="showPage('home')"></div>
        <div class="nav-dot" data-title="Kategori" onclick="showPage('category')"></div>
        <div class="nav-dot" data-title="Penjual" onclick="showPage('sellers')"></div>
        <div class="nav-dot" data-title="Produk" onclick="showPage('products')"></div>
        <div class="nav-dot" data-title="Dropshipper" onclick="showPage('dropshipper')"></div>
        <div class="nav-dot" data-title="Dashboard" onclick="showPage('dashboard')"></div>
    </div>

    <!-- Floating Action Button -->
    <div class="fab" onclick="toggleCart()">
        <i class="fas fa-shopping-cart"></i>
        <span class="badge" id="cartBadge">0</span>
    </div>

    <!-- Home Page -->
    <div id="homePage" class="page home-page active">
        <!-- Floating Shapes -->
        <div class="floating-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>

        <!-- Header -->
        <header class="header" id="mainHeader">
            <div class="container mx-auto px-4">
                <div class="flex items-center justify-between py-4">
                    <!-- Logo -->
                    <div class="flex items-center space-x-3">
                        <div class="w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-lg">
                            <i class="fas fa-store text-purple-600 text-2xl"></i>
                        </div>
                        <h1 class="text-2xl font-bold text-gray-800">SYAHJAYA INDO GRUP</h1>
                    </div>

                    <!-- Navigation -->
                    <nav class="hidden md:flex space-x-8">
                        <a href="#" onclick="showPage('home')" class="text-purple-600 font-medium">Beranda</a>
                        <a href="#" onclick="showPage('category')" class="text-gray-700 hover:text-purple-600 font-medium">Kategori</a>
                        <a href="#" onclick="showPage('sellers')" class="text-gray-700 hover:text-purple-600 font-medium">Penjual</a>
                        <a href="#" onclick="showPage('products')" class="text-gray-700 hover:text-purple-600 font-medium">Produk</a>
                        <a href="#" onclick="showPage('dropshipper')" class="text-gray-700 hover:text-purple-600 font-medium">Dropshipper</a>
                    </nav>

                    <!-- User Actions -->
                    <div class="flex items-center space-x-4">
                        <button onclick="showDashboard()" class="relative text-gray-700 hover:text-purple-600 transition-colors">
                            <i class="fas fa-user-circle text-xl"></i>
                        </button>
                        <button onclick="showModal('authModal'); showSellerRegisterForm();" class="btn-secondary hidden md:flex">
                            <i class="fas fa-store mr-2"></i> Jual
                        </button>
                        <button onclick="toggleMobileMenu()" class="md:hidden text-gray-700">
                            <i class="fas fa-bars text-xl"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="min-h-screen flex items-center justify-center pt-20">
            <div class="container mx-auto px-4">
                <div class="hero-content text-center text-white">
                    <h2 class="hero-title" data-aos="fade-up">
                        SELAMAT DATANG DI<br>
                        <span class="bg-gradient-to-r from-white to-gray-200 bg-clip-text text-transparent">SYAHJAYA INDO GRUP</span>
                    </h2>
                    <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="100">
                        Platform E-Commerce Terpercaya untuk Pembeli, Penjual, dan Dropshipper
                    </p>
                    <div class="flex flex-col md:flex-row gap-4 justify-center" data-aos="fade-up" data-aos-delay="200">
                        <button onclick="showPage('products')" class="btn-primary">
                            <i class="fas fa-shopping-bag mr-2"></i> Belanja Sekarang
                        </button>
                        <button onclick="showModal('authModal'); showSellerRegisterForm();" class="btn-secondary">
                            <i class="fas fa-store mr-2"></i> Mulai Berjualan
                        </button>
                        <button onclick="showPage('dropshipper')" class="btn-success">
                            <i class="fas fa-truck mr-2"></i> Jadi Dropshipper
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="py-20 bg-white">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <div class="text-center" data-aos="fade-up">
                        <div class="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-shipping-fast text-3xl text-purple-600"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Pengiriman Cepat</h3>
                        <p class="text-gray-600">Gratis ongkir untuk pembelian di atas Rp 100.000</p>
                    </div>
                    <div class="text-center" data-aos="fade-up" data-aos-delay="100">
                        <div class="w-20 h-20 bg-pink-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-shield-alt text-3xl text-pink-600"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">100% Aman</h3>
                        <p class="text-gray-600">Sistem pembayaran terenkripsi dan terpercaya</p>
                    </div>
                    <div class="text-center" data-aos="fade-up" data-aos-delay="200">
                        <div class="w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-headset text-3xl text-blue-600"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Support 24/7</h3>
                        <p class="text-gray-600">Tim support siap membantu kapan saja</p>
                    </div>
                    <div class="text-center" data-aos="fade-up" data-aos-delay="300">
                        <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-handshake text-3xl text-green-600"></i>
                        </div>
                        <h3 class="text-xl font-bold mb-2">Dropshipper Friendly</h3>
                        <p class="text-gray-600">Komisi tinggi tanpa modal</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="py-16 bg-gray-100">
            <div class="container mx-auto px-4">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                    <div data-aos="zoom-in">
                        <div class="text-4xl font-bold text-purple-600 mb-2">10K+</div>
                        <div class="text-gray-600">Produk</div>
                    </div>
                    <div data-aos="zoom-in" data-aos-delay="100">
                        <div class="text-4xl font-bold text-pink-600 mb-2">5K+</div>
                        <div class="text-gray-600">Penjual</div>
                    </div>
                    <div data-aos="zoom-in" data-aos-delay="200">
                        <div class="text-4xl font-bold text-blue-600 mb-2">50K+</div>
                        <div class="text-gray-600">Pembeli</div>
                    </div>
                    <div data-aos="zoom-in" data-aos-delay="300">
                        <div class="text-4xl font-bold text-green-600 mb-2">10K+</div>
                        <div class="text-gray-600">Dropshipper</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="py-16 bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-3xl font-bold text-center mb-12">Apa Kata Mereka</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-gray-50 p-6 rounded-lg" data-aos="fade-up">
                        <div class="flex items-center mb-4">
                            <img src="https://picsum.photos/seed/user1/50/50" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-semibold">Ahmad</div>
                                <div class="flex text-yellow-400 text-sm">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">"Platform yang sangat membantu untuk mengembangkan bisnis online. Penjualan meningkat 300% sejak bergabung!"</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg" data-aos="fade-up" data-aos-delay="100">
                        <div class="flex items-center mb-4">
                            <img src="https://picsum.photos/seed/user2/50/50" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-semibold">Siti</div>
                                <div class="flex text-yellow-400 text-sm">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">"Sebagai dropshipper, saya bisa mendapatkan komisi yang tinggi tanpa perlu modal. Sangat recommended!"</p>
                    </div>
                    <div class="bg-gray-50 p-6 rounded-lg" data-aos="fade-up" data-aos-delay="200">
                        <div class="flex items-center mb-4">
                            <img src="https://picsum.photos/seed/user3/50/50" class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <div class="font-semibold">Budi</div>
                                <div class="flex text-yellow-400 text-sm">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                            </div>
                        </div>
                        <p class="text-gray-600">"Fitur dashboard yang lengkap memudahkan saya memantau penjualan dan stok produk."</p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Category Page -->
    <div id="categoryPage" class="page category-page">
        <div class="pt-20">
            <div class="container mx-auto px-4 py-12">
                <h2 class="text-4xl font-bold text-white text-center mb-12" data-aos="fade-up">
                    Jelajahi Kategori Produk
                </h2>
                
                <div class="category-grid">
                    <div class="category-card" data-aos="fade-up" onclick="filterProducts('children-toys')">
                        <i class="fas fa-child category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Mainan Anak</h3>
                        <p class="text-gray-600">156 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="100" onclick="filterProducts('electronic')">
                        <i class="fas fa-tv category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Elektronik</h3>
                        <p class="text-gray-600">234 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="200" onclick="filterProducts('handphone')">
                        <i class="fas fa-mobile-alt category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Handphone</h3>
                        <p class="text-gray-600">189 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="300" onclick="filterProducts('household')">
                        <i class="fas fa-home category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Peralatan Rumah</h3>
                        <p class="text-gray-600">167 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="400" onclick="filterProducts('computer')">
                        <i class="fas fa-laptop category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Komputer & Aksesoris</h3>
                        <p class="text-gray-600">145 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="500" onclick="filterProducts('fashion-boys')">
                        <i class="fas fa-male category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Fashion Pria</h3>
                        <p class="text-gray-600">278 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="600" onclick="filterProducts('fashion-girls')">
                        <i class="fas fa-female category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Fashion Wanita</h3>
                        <p class="text-gray-600">312 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="700" onclick="filterProducts('book')">
                        <i class="fas fa-book category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Buku</h3>
                        <p class="text-gray-600">123 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="800" onclick="filterProducts('automotive')">
                        <i class="fas fa-car category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Otomotif</h3>
                        <p class="text-gray-600">78 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="900" onclick="filterProducts('sport')">
                        <i class="fas fa-dumbbell category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Olahraga</h3>
                        <p class="text-gray-600">89 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="1000" onclick="filterProducts('baby')">
                        <i class="fas fa-baby category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Bayi</h3>
                        <p class="text-gray-600">45 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="1100" onclick="filterProducts('software')">
                        <i class="fas fa-code category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Software</h3>
                        <p class="text-gray-600">67 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="1200" onclick="filterProducts('cosmetics')">
                        <i class="fas fa-spray-can category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Kosmetik</h3>
                        <p class="text-gray-600">156 Produk</p>
                    </div>
                    <div class="category-card" data-aos="fade-up" data-aos-delay="1300" onclick="filterProducts('kitchen')">
                        <i class="fas fa-utensils category-icon"></i>
                        <h3 class="text-xl font-bold mb-2">Peralatan Dapur</h3>
                        <p class="text-gray-600">112 Produk</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sellers Page -->
    <div id="sellersPage" class="page sellers-page">
        <div class="pt-20">
            <div class="container mx-auto px-4 py-12">
                <h2 class="text-4xl font-bold text-white text-center mb-12" data-aos="fade-up">
                    Temukan Penjual Terbaik
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="seller-card-3d" data-aos="fade-up">
                        <div class="seller-card-inner">
                            <div class="seller-card-front">
                                <img src="https://picsum.photos/seed/seller1/100/100" class="w-24 h-24 rounded-full mb-4">
                                <h3 class="text-xl font-bold mb-2">Toko Maju Jaya</h3>
                                <div class="flex text-yellow-400 mb-2">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <p class="text-gray-600 text-center mb-4">Toko elektronik terlengkap</p>
                                <button class="btn-primary">Lihat Profil</button>
                            </div>
                            <div class="seller-card-back">
                                <i class="fas fa-store text-5xl mb-4"></i>
                                <h3 class="text-2xl font-bold mb-4">Toko Maju Jaya</h3>
                                <div class="grid grid-cols-2 gap-4 mb-6">
                                    <div class="text-center">
                                        <div class="text-3xl font-bold">156</div>
                                        <div class="text-sm opacity-90">Produk</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-3xl font-bold">2341</div>
                                        <div class="text-sm opacity-90">Pesanan</div>
                                    </div>
                                </div>
                                <button class="bg-white text-purple-600 px-6 py-2 rounded-full font-semibold">Hubungi</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="seller-card-3d" data-aos="fade-up" data-aos-delay="100">
                        <div class="seller-card-inner">
                            <div class="seller-card-front">
                                <img src="https://picsum.photos/seed/seller2/100/100" class="w-24 h-24 rounded-full mb-4">
                                <h3 class="text-xl font-bold mb-2">Gadget Store</h3>
                                <div class="flex text-yellow-400 mb-2">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <p class="text-gray-600 text-center mb-4">Spesialis gadget original</p>
                                <button class="btn-primary">Lihat Profil</button>
                            </div>
                            <div class="seller-card-back">
                                <i class="fas fa-store text-5xl mb-4"></i>
                                <h3 class="text-2xl font-bold mb-4">Gadget Store</h3>
                                <div class="grid grid-cols-2 gap-4 mb-6">
                                    <div class="text-center">
                                        <div class="text-3xl font-bold">89</div>
                                        <div class="text-sm opacity-90">Produk</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-3xl font-bold">1876</div>
                                        <div class="text-sm opacity-90">Pesanan</div>
                                    </div>
                                </div>
                                <button class="bg-white text-purple-600 px-6 py-2 rounded-full font-semibold">Hubungi</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="seller-card-3d" data-aos="fade-up" data-aos-delay="200">
                        <div class="seller-card-inner">
                            <div class="seller-card-front">
                                <img src="https://picsum.photos/seed/seller3/100/100" class="w-24 h-24 rounded-full mb-4">
                                <h3 class="text-xl font-bold mb-2">Butik Cantik</h3>
                                <div class="flex text-yellow-400 mb-2">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                                <p class="text-gray-600 text-center mb-4">Fashion terkini untuk wanita</p>
                                <button class="btn-primary">Lihat Profil</button>
                            </div>
                            <div class="seller-card-back">
                                <i class="fas fa-store text-5xl mb-4"></i>
                                <h3 class="text-2xl font-bold mb-4">Butik Cantik</h3>
                                <div class="grid grid-cols-2 gap-4 mb-6">
                                    <div class="text-center">
                                        <div class="text-3xl font-bold">234</div>
                                        <div class="text-sm opacity-90">Produk</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-3xl font-bold">3456</div>
                                        <div class="text-sm opacity-90">Pesanan</div>
                                    </div>
                                </div>
                                <button class="bg-white text-purple-600 px-6 py-2 rounded-full font-semibold">Hubungi</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Products Page -->
    <div id="productsPage" class="page products-page">
        <div class="pt-20">
            <div class="container mx-auto px-4 py-12">
                <h2 class="text-4xl font-bold text-white text-center mb-12" data-aos="fade-up">
                    Produk Pilihan Kami
                </h2>
                
                <!-- Filter Section -->
                <div class="filter-section" data-aos="fade-up">
                    <div class="flex flex-wrap gap-4 items-center">
                        <span class="font-medium text-gray-700">Filter:</span>
                        <button class="filter-btn active" onclick="filterProducts('all')">Semua</button>
                        <button class="filter-btn" onclick="filterProducts('children-toys')">Mainan Anak</button>
                        <button class="filter-btn" onclick="filterProducts('electronic')">Elektronik</button>
                        <button class="filter-btn" onclick="filterProducts('handphone')">Handphone</button>
                        <button class="filter-btn" onclick="filterProducts('household')">Peralatan Rumah</button>
                        <button class="filter-btn" onclick="filterProducts('computer')">Komputer & Aksesoris</button>
                        <button class="filter-btn" onclick="filterProducts('fashion-boys')">Fashion Pria</button>
                        <button class="filter-btn" onclick="filterProducts('fashion-girls')">Fashion Wanita</button>
                        <button class="filter-btn" onclick="filterProducts('book')">Buku</button>
                        <button class="filter-btn" onclick="filterProducts('automotive')">Otomotif</button>
                        <button class="filter-btn" onclick="filterProducts('sport')">Olahraga</button>
                        <button class="filter-btn" onclick="filterProducts('baby')">Bayi</button>
                        <button class="filter-btn" onclick="filterProducts('software')">Software</button>
                        <button class="filter-btn" onclick="filterProducts('cosmetics')">Kosmetik</button>
                        <button class="filter-btn" onclick="filterProducts('kitchen')">Peralatan Dapur</button>
                        
                        <div class="ml-auto flex items-center gap-4">
                            <span class="font-medium text-gray-700">Urutkan:</span>
                            <select onchange="sortProducts(this.value)" class="px-4 py-2 rounded-lg border border-gray-300">
                                <option value="default">Default</option>
                                <option value="price-low">Harga Terendah</option>
                                <option value="price-high">Harga Tertinggi</option>
                                <option value="name">Nama A-Z</option>
                                <option value="rating">Rating Tertinggi</option>
                                <option value="commission">Komisi Tertinggi</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Products Grid -->
                <div id="productGrid" class="product-grid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Dropshipper Page -->
    <div id="dropshipperPage" class="page dropshipper-page">
        <div class="pt-20">
            <div class="container mx-auto px-4 py-12">
                <h2 class="text-4xl font-bold text-center mb-12" data-aos="fade-up">
                    Jadi Dropshipper, Dapatkan Komisi Tinggi!
                </h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Dropshipper Info -->
                    <div class="lg:col-span-1">
                        <div class="dropshipper-card" data-aos="fade-up">
                            <h3 class="text-2xl font-bold mb-4">Apa itu Dropshipper?</h3>
                            <p class="text-gray-600 mb-4">
                                Dropshipper adalah orang yang menjual produk milik orang lain (supplier) tanpa perlu memiliki stok barang. 
                                Dropshipper hanya perlu memasarkan produk dan ketika ada pembeli, supplier akan mengirimkan barang langsung ke pembeli.
                            </p>
                            <h4 class="text-xl font-bold mb-3">Keuntungan Menjadi Dropshipper:</h4>
                            <ul class="space-y-2">
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Tidak perlu modal besar</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Tidak perlu menyimpan stok barang</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Bisa dikerjakan dari mana saja</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fas fa-check-circle text-green-500 mt-1 mr-2"></i>
                                    <span>Komisi hingga 30% dari harga produk</span>
                                </li>
                            </ul>
                            <button onclick="showModal('authModal'); showDropshipperRegisterForm()" class="w-full btn-success mt-4">
                                <i class="fas fa-user-plus mr-2"></i> Daftar sebagai Dropshipper
                            </button>
                        </div>
                    </div>
                    
                    <!-- Products for Dropshipper -->
                    <div class="lg:col-span-2">
                        <div class="dropshipper-card" data-aos="fade-up" data-aos-delay="100">
                            <h3 class="text-2xl font-bold mb-4">Produk Terlaris untuk Dropship</h3>
                            <div class="space-y-4">
                                <div class="dropshipper-product">
                                    <img src="https://picsum.photos/seed/product1/60/60" alt="Laptop Gaming">
                                    <div class="flex-1">
                                        <h4 class="font-semibold">Laptop Gaming ASUS ROG</h4>
                                        <p class="text-gray-600 text-sm">Komisi: <span class="commission-badge">15%</span></p>
                                        <p class="text-purple-600 font-bold">Rp 15.000.000</p>
                                    </div>
                                    <button onclick="shareDropshipProduct(1)" class="btn-primary">
                                        <i class="fas fa-share-alt mr-2"></i> Bagikan
                                    </button>
                                </div>
                                
                                <div class="dropshipper-product">
                                    <img src="https://picsum.photos/seed/product2/60/60" alt="Smartphone">
                                    <div class="flex-1">
                                        <h4 class="font-semibold">Smartphone Samsung Galaxy</h4>
                                        <p class="text-gray-600 text-sm">Komisi: <span class="commission-badge">20%</span></p>
                                        <p class="text-purple-600 font-bold">Rp 12.000.000</p>
                                    </div>
                                    <button onclick="shareDropshipProduct(2)" class="btn-primary">
                                        <i class="fas fa-share-alt mr-2"></i> Bagikan
                                    </button>
                                </div>
                                
                                <div class="dropshipper-product">
                                    <img src="https://picsum.photos/seed/product3/60/60" alt="Sepatu">
                                    <div class="flex-1">
                                        <h4 class="font-semibold">Sepatu Running Nike</h4>
                                        <p class="text-gray-600 text-sm">Komisi: <span class="commission-badge">25%</span></p>
                                        <p class="text-purple-600 font-bold">Rp 1.200.000</p>
                                    </div>
                                    <button onclick="shareDropshipProduct(3)" class="btn-primary">
                                        <i class="fas fa-share-alt mr-2"></i> Bagikan
                                    </button>
                                </div>
                                
                                <div class="dropshipper-product">
                                    <img src="https://picsum.photos/seed/product4/60/60" alt="Kosmetik">
                                    <div class="flex-1">
                                        <h4 class="font-semibold">Lipstik Matte Premium</h4>
                                        <p class="text-gray-600 text-sm">Komisi: <span class="commission-badge">30%</span></p>
                                        <p class="text-purple-600 font-bold">Rp 250.000</p>
                                    </div>
                                    <button onclick="shareDropshipProduct(4)" class="btn-primary">
                                        <i class="fas fa-share-alt mr-2"></i> Bagikan
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Dropshipper Stats -->
                        <div class="dropshipper-card mt-6" data-aos="fade-up" data-aos-delay="200">
                            <h3 class="text-2xl font-bold mb-4">Statistik Dropshipper</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-lg text-center">
                                    <div class="text-3xl font-bold">10K+</div>
                                    <div>Dropshipper Aktif</div>
                                </div>
                                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-lg text-center">
                                    <div class="text-3xl font-bold">50K+</div>
                                    <div>Produk Terjual</div>
                                </div>
                                <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-lg text-center">
                                    <div class="text-3xl font-bold">2M+</div>
                                    <div>Komisi Dibayarkan</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dropshipper Dashboard Page -->
    <div id="dropshipperDashboardPage" class="page dropshipper-dashboard">
        <div class="pt-20">
            <div class="container mx-auto px-4 py-12">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-4xl font-bold text-gray-800" data-aos="fade-up">
                        Dashboard Dropshipper
                    </h2>
                    <div class="flex gap-3">
                        <button onclick="showPage('dropshipper')" class="btn-secondary">
                            <i class="fas fa-arrow-left mr-2"></i> Kembali
                        </button>
                        <button onclick="showDropshipperProfile()" class="btn-primary">
                            <i class="fas fa-user mr-2"></i> Profil Saya
                        </button>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Dropshipper Stats Summary -->
                    <div class="lg:col-span-1">
                        <div class="dashboard-card" data-aos="fade-up">
                            <h3 class="text-xl font-bold mb-4">Statistik Anda</h3>
                            <div class="space-y-4">
                                <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-lg">
                                    <div class="text-2xl font-bold">Rp ${getDropshipperStats().totalCommission.toLocaleString('id-ID')}</div>
                                    <div class="text-sm opacity-90">Total Komisi</div>
                                </div>
                                <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-lg">
                                    <div class="text-2xl font-bold">${getDropshipperStats().totalSales}</div>
                                    <div class="text-sm opacity-90">Produk Terjual</div>
                                </div>
                                <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4 rounded-lg">
                                    <div class="text-2xl font-bold">${getDropshipperStats().pendingCommission > 0 ? 'Rp ' + getDropshipperStats().pendingCommission.toLocaleString('id-ID') : 'Rp 0'}</div>
                                    <div class="text-sm opacity-90">Komisi Pending</div>
                                </div>
                            </div>
                            <button onclick="requestWithdrawal()" class="w-full btn-success mt-4 ${getDropshipperStats().availableCommission < 50000 ? 'disabled' : ''}">
                                <i class="fas fa-money-bill-wave mr-2"></i> Tarik Komisi
                            </button>
                        </div>
                    </div>
                    
                    <!-- Commission History -->
                    <div class="lg:col-span-2">
                        <div class="dashboard-card" data-aos="fade-up" data-aos-delay="100">
                            <h3 class="text-xl font-bold mb-4">Riwayat Komisi</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b">
                                            <th class="text-left py-2">Tanggal</th>
                                            <th class="text-left py-2">Produk</th>
                                            <th class="text-left py-2">Komisi</th>
                                            <th class="text-left py-2">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="commissionHistory">
                                        <!-- Commission history will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Sales Chart -->
                        <div class="dashboard-card mt-6" data-aos="fade-up" data-aos-delay="200">
                            <h3 class="text-xl font-bold mb-4">Grafik Penjualan</h3>
                            <div class="sales-chart">
                                <div class="chart-placeholder">
                                    <p class="text-gray-500">Grafik penjualan akan ditampilkan di sini</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dropshipper Profile Page -->
    <div id="dropshipperProfilePage" class="page dropshipper-profile">
        <div class="pt-20">
            <div class="container mx-auto px-4 py-12">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-4xl font-bold text-gray-800" data-aos="fade-up">
                        Profil Dropshipper
                    </h2>
                    <button onclick="showPage('dropshipperDashboard')" class="btn-secondary">
                        <i class="fas fa-arrow-left mr-2"></i> Kembali ke Dashboard
                    </button>
                </div>
                
                <div class="profile-header" data-aos="fade-up">
                    <div class="flex flex-col md:flex-row items-center">
                        <div class="w-32 h-32 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center text-white text-5xl font-bold mb-4 md:mb-0 md:mr-6">
                            ${currentUser?.name?.charAt(0) || 'D'}
                        </div>
                        <div class="text-center md:text-left">
                            <h3 class="text-2xl font-bold">${currentUser?.name || 'Dropshipper'}</h3>
                            <p class="text-gray-600">${currentUser?.email || 'dropshipper@example.com'}</p>
                            <p class="text-gray-600">Bergabung sejak: ${currentUser?.joinedDate || '01/01/2023'}</p>
                            <div class="mt-2">
                                <span class="inline-block bg-green-100 text-green-600 px-3 py-1 rounded-full text-sm">
                                    <i class="fas fa-check-circle mr-1"></i> Dropshipper Aktif
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-stats">
                        <div class="profile-stat-card">
                            <div class="profile-stat-number">${getDropshipperStats().totalSales}</div>
                            <div>Total Penjualan</div>
                        </div>
                        <div class="profile-stat-card">
                            <div class="profile-stat-number">Rp ${getDropshipperStats().totalCommission.toLocaleString('id-ID')}</div>
                            <div>Total Komisi</div>
                        </div>
                        <div class="profile-stat-card">
                            <div class="profile-stat-number">${getDropshipperStats().withdrawnCount || 0}</div>
                            <div>Penarikan</div>
                        </div>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Dropshipper Info -->
                    <div class="dashboard-card" data-aos="fade-up" data-aos-delay="100">
                        <h3 class="text-xl font-bold mb-4">Informasi Dropshipper</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">Nama Lengkap</span>
                                <span class="font-medium">${currentUser?.name || '-'}</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">Email</span>
                                <span class="font-medium">${currentUser?.email || '-'}</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">No. Telepon</span>
                                <span class="font-medium">${currentUser?.phone || '-'}</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">Platform Jualan</span>
                                <span class="font-medium">${currentUser?.platform || '-'}</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">Link Toko Online</span>
                                <a href="${currentUser?.storeLink || '#'}" target="_blank" class="font-medium text-purple-600 hover:underline">
                                    ${currentUser?.storeLink ? 'Kunjungi Toko' : '-'}
                                </a>
                            </div>
                        </div>
                        <button onclick="showModal('editDropshipperModal')" class="w-full btn-primary mt-4">
                            <i class="fas fa-edit mr-2"></i> Edit Profil
                        </button>
                    </div>
                    
                    <!-- Bank Account Info -->
                    <div class="dashboard-card" data-aos="fade-up" data-aos-delay="200">
                        <h3 class="text-xl font-bold mb-4">Informasi Rekening</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">Nama Pemilik</span>
                                <span class="font-medium">${currentUser?.bankAccountName || '-'}</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">Nama Bank</span>
                                <span class="font-medium">${currentUser?.bankName || '-'}</span>
                            </div>
                            <div class="flex justify-between pb-2 border-b">
                                <span class="text-gray-600">Nomor Rekening</span>
                                <span class="font-medium">${currentUser?.bankAccountNumber || '-'}</span>
                            </div>
                        </div>
                        <button onclick="showModal('editBankAccountModal')" class="w-full btn-primary mt-4">
                            <i class="fas fa-edit mr-2"></i> Edit Rekening
                        </button>
                    </div>
                </div>
                
                <!-- Top Selling Products -->
                <div class="dashboard-card mt-8" data-aos="fade-up" data-aos-delay="300">
                    <h3 class="text-xl font-bold mb-4">Produk Terlaris Anda</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        ${getTopSellingProducts().map(product => `
                            <div class="bg-white border rounded-lg p-4">
                                <img src="${product.image}" alt="${product.name}" class="w-full h-32 object-cover rounded mb-3">
                                <h4 class="font-semibold">${product.name}</h4>
                                <p class="text-gray-600 text-sm">Terjual: ${product.soldCount || 0}</p>
                                <p class="text-green-600 font-bold">Komisi: Rp ${((product.price * product.commission / 100) * (product.soldCount || 0)).toLocaleString('id-ID')}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="page dashboard-page">
        <div class="pt-20">
            <div class="container mx-auto px-4 py-12">
                <h2 class="text-4xl font-bold text-gray-800 text-center mb-12" data-aos="fade-up">
                    Dashboard Pengguna
                </h2>
                
                <div class="dashboard-grid">
                    <!-- Profile Card -->
                    <div class="dashboard-card" data-aos="fade-up">
                        <div class="flex items-center mb-6">
                            <div class="w-20 h-20 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center text-white text-3xl font-bold mr-4">
                                ${currentUser?.name?.charAt(0) || 'U'}
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold">${currentUser?.name || 'User'}</h3>
                                <p class="text-gray-600">${currentUser?.email || 'user@example.com'}</p>
                                ${currentUser?.isSeller ? '<span class="inline-block bg-pink-100 text-pink-600 px-3 py-1 rounded-full text-sm mt-1">Penjual</span>' : ''}
                                ${currentUser?.isDropshipper ? '<span class="inline-block bg-green-100 text-green-600 px-3 py-1 rounded-full text-sm mt-1">Dropshipper</span>' : ''}
                            </div>
                        </div>
                        <div class="space-y-2">
                            <button class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors flex items-center">
                                <i class="fas fa-user mr-3 text-gray-600"></i> Edit Profil
                            </button>
                            <button class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors flex items-center">
                                <i class="fas fa-map-marker-alt mr-3 text-gray-600"></i> Alamat Saya
                            </button>
                            <button class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors flex items-center">
                                <i class="fas fa-cog mr-3 text-gray-600"></i> Pengaturan
                            </button>
                            ${currentUser?.isDropshipper ? `
                            <button onclick="showPage('dropshipperDashboard')" class="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors flex items-center">
                                <i class="fas fa-chart-line mr-3 text-green-600"></i> Dashboard Dropshipper
                            </button>
                            ` : ''}
                            <button onclick="logout()" class="w-full text-left px-4 py-3 rounded-lg hover:bg-red-50 transition-colors flex items-center text-red-600">
                                <i class="fas fa-sign-out-alt mr-3"></i> Keluar
                            </button>
                        </div>
                    </div>
                    
                    <!-- Orders Card -->
                    <div class="dashboard-card" data-aos="fade-up" data-aos-delay="100">
                        <h3 class="text-xl font-bold mb-4">Pesanan Saya</h3>
                        <div class="space-y-3">
                            <div class="stat-card">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <div class="text-lg font-medium">Menunggu Pembayaran</div>
                                        <div class="text-sm opacity-90">3 pesanan</div>
                                    </div>
                                    <i class="fas fa-clock text-2xl"></i>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <div class="text-lg font-medium">Diproses</div>
                                        <div class="text-sm opacity-90">2 pesanan</div>
                                    </div>
                                    <i class="fas fa-box text-2xl"></i>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="flex justify-between items-center">
                                    <div>
                                        <div class="text-lg font-medium">Selesai</div>
                                        <div class="text-sm opacity-90">15 pesanan</div>
                                    </div>
                                    <i class="fas fa-check-circle text-2xl"></i>
                                </div>
                            </div>
                        </div>
                        <button class="w-full mt-4 btn-primary">Lihat Semua Pesanan</button>
                    </div>
                    
                    <!-- Wishlist Card -->
                    <div class="dashboard-card" data-aos="fade-up" data-aos-delay="200">
                        <h3 class="text-xl font-bold mb-4">Wishlist Saya</h3>
                        <div class="grid grid-cols-2 gap-3">
                            <div class="bg-gray-100 rounded-lg p-3">
                                <img src="https://picsum.photos/seed/wish1/150/150" class="w-full h-32 object-cover rounded mb-2">
                                <p class="font-medium text-sm truncate">Laptop Gaming ASUS</p>
                                <p class="text-purple-600 font-bold">Rp 15jt</p>
                            </div>
                            <div class="bg-gray-100 rounded-lg p-3">
                                <img src="https://picsum.photos/seed/wish2/150/150" class="w-full h-32 object-cover rounded mb-2">
                                <p class="font-medium text-sm truncate">Smartphone Samsung</p>
                                <p class="text-purple-600 font-bold">Rp 12jt</p>
                            </div>
                        </div>
                        <button class="w-full mt-4 btn-secondary">Lihat Semua Wishlist</button>
                    </div>
                    
                    <!-- Dropshipper Stats Card -->
                    ${currentUser?.isDropshipper ? `
                    <div class="dashboard-card" data-aos="fade-up" data-aos-delay="300">
                        <h3 class="text-xl font-bold mb-4">Statistik Dropshipper</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold">${getDropshipperStats().totalSales}</div>
                                <div class="text-sm">Produk Terjual</div>
                            </div>
                            <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 rounded-lg text-center">
                                <div class="text-2xl font-bold">Rp ${getDropshipperStats().totalCommission.toLocaleString('id-ID')}</div>
                                <div class="text-sm">Total Komisi</div>
                            </div>
                        </div>
                        <button onclick="showPage('dropshipperDashboard')" class="w-full mt-4 btn-success">
                            <i class="fas fa-chart-line mr-2"></i> Lihat Detail
                        </button>
                    </div>
                    ` : ''}
                    
                    <!-- Recent Activity -->
                    <div class="dashboard-card md:col-span-2 lg:col-span-3" data-aos="fade-up" data-aos-delay="300">
                        <h3 class="text-xl font-bold mb-4">Aktivitas Terakhir</h3>
                        <div class="space-y-3">
                            <div class="flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors">
                                <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                    <i class="fas fa-check text-green-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium">Pesanan #ORDER-123 selesai</p>
                                    <p class="text-sm text-gray-600">2 jam yang lalu</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors">
                                <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                    <i class="fas fa-shopping-cart text-blue-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium">Menambahkan produk ke keranjang</p>
                                    <p class="text-sm text-gray-600">5 jam yang lalu</p>
                                </div>
                            </div>
                            <div class="flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors">
                                <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mr-3">
                                    <i class="fas fa-heart text-purple-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium">Menambahkan ke wishlist</p>
                                    <p class="text-sm text-gray-600">1 hari yang lalu</p>
                                </div>
                            </div>
                            ${currentUser?.isDropshipper ? `
                            <div class="flex items-center p-3 hover:bg-gray-50 rounded-lg transition-colors">
                                <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                    <i class="fas fa-money-bill-wave text-green-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-medium">Menerima komisi Rp 250.000</p>
                                    <p class="text-sm text-gray-600">2 hari yang lalu</p>
                                </div>
                            </div>
                            ` : ''}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Login/Register Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content max-w-md">
            <button onclick="closeModal('authModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <h2 class="text-2xl font-bold mb-6 text-center">Masuk ke Akun Anda</h2>
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" required class="form-control" placeholder="email@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" name="password" required class="form-control" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label class="flex items-center">
                            <input type="checkbox" name="remember" class="mr-2">
                            <span class="text-gray-600">Ingat saya</span>
                        </label>
                    </div>
                    <button type="submit" class="w-full btn-primary py-3 rounded-lg font-semibold mb-4">
                        Masuk
                    </button>
                    <div class="text-center">
                        <p class="text-gray-600">Belum punya akun? 
                            <a href="#" onclick="showRegisterForm()" class="text-purple-600 hover:text-purple-700 font-medium">Daftar</a>
                        </p>
                        <p class="text-gray-600 mt-2">
                            <a href="#" onclick="showSellerRegisterForm()" class="text-pink-600 hover:text-pink-700 font-medium">
                                <i class="fas fa-store mr-1"></i> Daftar sebagai Penjual
                            </a>
                        </p>
                        <p class="text-gray-600 mt-2">
                            <a href="#" onclick="showDropshipperRegisterForm()" class="text-green-600 hover:text-green-700 font-medium">
                                <i class="fas fa-truck mr-1"></i> Daftar sebagai Dropshipper
                            </a>
                        </p>
                    </div>
                </form>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="auth-form hidden">
                <h2 class="text-2xl font-bold mb-6 text-center">Buat Akun Baru</h2>
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" name="name" required class="form-control" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" required class="form-control" placeholder="email@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" name="password" required class="form-control" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Konfirmasi Password</label>
                        <input type="password" name="confirmPassword" required class="form-control" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label class="flex items-center">
                            <input type="checkbox" name="terms" required class="mr-2">
                            <span class="text-gray-600">Saya setuju dengan <a href="#" class="text-purple-600">syarat & ketentuan</a></span>
                        </label>
                    </div>
                    <button type="submit" class="w-full btn-primary py-3 rounded-lg font-semibold mb-4">
                        Daftar
                    </button>
                    <div class="text-center">
                        <p class="text-gray-600">Sudah punya akun? 
                            <a href="#" onclick="showLoginForm()" class="text-purple-600 hover:text-purple-700 font-medium">Masuk</a>
                        </p>
                    </div>
                </form>
            </div>

            <!-- Seller Register Form -->
            <div id="sellerRegisterForm" class="auth-form hidden">
                <h2 class="text-2xl font-bold mb-6 text-center">Daftar sebagai Penjual</h2>
                <form onsubmit="handleSellerRegister(event)">
                    <div class="form-group">
                        <label class="form-label">Nama Toko</label>
                        <input type="text" name="storeName" required class="form-control" placeholder="Nama Toko Anda">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" name="name" required class="form-control" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" required class="form-control" placeholder="email@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">No. Telepon</label>
                        <input type="tel" name="phone" required class="form-control" placeholder="08123456789">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" name="password" required class="form-control" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Konfirmasi Password</label>
                        <input type="password" name="confirmPassword" required class="form-control" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Deskripsi Toko</label>
                        <textarea name="description" required class="form-control" rows="3" placeholder="Ceritakan tentang toko Anda..."></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Alamat Toko</label>
                        <textarea name="address" required class="form-control" rows="2" placeholder="Alamat lengkap toko Anda"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="flex items-center">
                            <input type="checkbox" name="terms" required class="mr-2">
                            <span class="text-gray-600">Saya setuju dengan <a href="#" class="text-purple-600">syarat & ketentuan penjual</a></span>
                        </label>
                    </div>
                    <button type="submit" class="w-full btn-secondary py-3 rounded-lg font-semibold mb-4">
                        <i class="fas fa-store mr-2"></i> Daftar sebagai Penjual
                    </button>
                    <div class="text-center">
                        <p class="text-gray-600">Sudah punya akun? 
                            <a href="#" onclick="showLoginForm()" class="text-purple-600 hover:text-purple-700 font-medium">Masuk</a>
                        </p>
                    </div>
                </form>
            </div>

            <!-- Dropshipper Register Form -->
            <div id="dropshipperRegisterForm" class="auth-form hidden">
                <h2 class="text-2xl font-bold mb-6 text-center">Daftar sebagai Dropshipper</h2>
                <form onsubmit="handleDropshipperRegister(event)">
                    <div class="form-group">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" name="name" required class="form-control" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" name="email" required class="form-control" placeholder="email@example.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label">No. Telepon</label>
                        <input type="tel" name="phone" required class="form-control" placeholder="08123456789">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" name="password" required class="form-control" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Konfirmasi Password</label>
                        <input type="password" name="confirmPassword" required class="form-control" placeholder="••••••••">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Platform Jualan (Opsional)</label>
                        <input type="text" name="platform" class="form-control" placeholder="Contoh: Tokopedia, Shopee, Instagram">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Link Toko Online (Opsional)</label>
                        <input type="url" name="storeLink" class="form-control" placeholder="https://tokopedia.com/namatoko">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nama Pemilik Rekening</label>
                        <input type="text" name="bankAccountName" required class="form-control" placeholder="John Doe">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nama Bank</label>
                        <input type="text" name="bankName" required class="form-control" placeholder="BCA, Mandiri, BNI, dll">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Nomor Rekening</label>
                        <input type="text" name="bankAccountNumber" required class="form-control" placeholder="1234567890">
                    </div>
                    <div class="form-group">
                        <label class="flex items-center">
                            <input type="checkbox" name="terms" required class="mr-2">
                            <span class="text-gray-600">Saya setuju dengan <a href="#" class="text-green-600">syarat & ketentuan dropshipper</a></span>
                        </label>
                    </div>
                    <button type="submit" class="w-full btn-success py-3 rounded-lg font-semibold mb-4">
                        <i class="fas fa-truck mr-2"></i> Daftar sebagai Dropshipper
                    </button>
                    <div class="text-center">
                        <p class="text-gray-600">Sudah punya akun? 
                            <a href="#" onclick="showLoginForm()" class="text-purple-600 hover:text-purple-700 font-medium">Masuk</a>
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Dropshipper Modal -->
    <div id="editDropshipperModal" class="modal">
        <div class="modal-content max-w-md">
            <button onclick="closeModal('editDropshipperModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <h2 class="text-2xl font-bold mb-6 text-center">Edit Profil Dropshipper</h2>
            <form onsubmit="handleEditDropshipper(event)">
                <div class="form-group">
                    <label class="form-label">Nama Lengkap</label>
                    <input type="text" name="name" required class="form-control" value="${currentUser?.name || ''}">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" name="email" required class="form-control" value="${currentUser?.email || ''}" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">No. Telepon</label>
                    <input type="tel" name="phone" required class="form-control" value="${currentUser?.phone || ''}">
                </div>
                <div class="form-group">
                    <label class="form-label">Platform Jualan (Opsional)</label>
                    <input type="text" name="platform" class="form-control" value="${currentUser?.platform || ''}" placeholder="Contoh: Tokopedia, Shopee, Instagram">
                </div>
                <div class="form-group">
                    <label class="form-label">Link Toko Online (Opsional)</label>
                    <input type="url" name="storeLink" class="form-control" value="${currentUser?.storeLink || ''}" placeholder="https://tokopedia.com/namatoko">
                </div>
                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-semibold mb-4">
                    <i class="fas fa-save mr-2"></i> Simpan Perubahan
                </button>
            </form>
        </div>
    </div>

    <!-- Edit Bank Account Modal -->
    <div id="editBankAccountModal" class="modal">
        <div class="modal-content max-w-md">
            <button onclick="closeModal('editBankAccountModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <h2 class="text-2xl font-bold mb-6 text-center">Edit Informasi Rekening</h2>
            <form onsubmit="handleEditBankAccount(event)">
                <div class="form-group">
                    <label class="form-label">Nama Pemilik Rekening</label>
                    <input type="text" name="bankAccountName" required class="form-control" value="${currentUser?.bankAccountName || ''}" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label class="form-label">Nama Bank</label>
                    <input type="text" name="bankName" required class="form-control" value="${currentUser?.bankName || ''}" placeholder="BCA, Mandiri, BNI, dll">
                </div>
                <div class="form-group">
                    <label class="form-label">Nomor Rekening</label>
                    <input type="text" name="bankAccountNumber" required class="form-control" value="${currentUser?.bankAccountNumber || ''}" placeholder="1234567890">
                </div>
                <button type="submit" class="w-full btn-primary py-3 rounded-lg font-semibold mb-4">
                    <i class="fas fa-save mr-2"></i> Simpan Perubahan
                </button>
            </form>
        </div>
    </div>

    <!-- Withdrawal Modal -->
    <div id="withdrawalModal" class="modal">
        <div class="modal-content max-w-md">
            <button onclick="closeModal('withdrawalModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
            
            <h2 class="text-2xl font-bold mb-6 text-center">Penarikan Komisi</h2>
            <form onsubmit="handleWithdrawal(event)">
                <div class="form-group">
                    <label class="form-label">Jumlah Penarikan</label>
                    <input type="number" name="amount" required class="form-control" min="50000" max="${getDropshipperStats().availableCommission}" placeholder="Minimal Rp 50.000">
                </div>
                <div class="form-group">
                    <label class="form-label">Rekening Tujuan</label>
                    <div class="bg-gray-100 p-3 rounded-lg">
                        <div class="font-medium">${currentUser?.bankAccountName || '-'}</div>
                        <div>${currentUser?.bankName || '-'} - ${currentUser?.bankAccountNumber || '-'}</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="flex items-center">
                        <input type="checkbox" name="confirm" required class="mr-2">
                        <span class="text-gray-600">Saya setuju dengan <a href="#" class="text-purple-600">syarat & ketentuan penarikan</a></span>
                    </label>
                </div>
                <button type="submit" class="w-full btn-success py-3 rounded-lg font-semibold mb-4">
                    <i class="fas fa-money-bill-wave mr-2"></i> Ajukan Penarikan
                </button>
            </form>
        </div>
    </div>

    <!-- Product Detail Modal -->
    <div id="productModal" class="modal">
        <div class="modal-content max-w-4xl">
            <button onclick="closeModal('productModal')" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
                <i class="fas fa-times text-xl"></i>
            </button>
            <div id="productDetailContent">
                <!-- Product detail will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="cart-sidebar">
        <div class="p-6 border-b">
            <div class="flex justify-between items-center">
                <h3 class="text-xl font-bold">Keranjang Belanja</h3>
                <button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
        <div class="p-6">
            <div id="cartItems" class="space-y-4 mb-6">
                <!-- Cart items will be loaded here -->
            </div>
            <div class="border-t pt-4">
                <div class="flex justify-between mb-4">
                    <span class="font-semibold">Subtotal:</span>
                    <span class="font-bold text-purple-600" id="cartSubtotal">Rp 0</span>
                </div>
                <div class="flex justify-between mb-4">
                    <span class="font-semibold">Ongkir:</span>
                    <span class="font-bold" id="cartShipping">Rp 0</span>
                </div>
                <div class="flex justify-between mb-6">
                    <span class="text-lg font-bold">Total:</span>
                    <span class="text-xl font-bold text-purple-600" id="cartTotal">Rp 0</span>
                </div>
                <button onclick="proceedToCheckout()" class="w-full btn-primary py-3 rounded-lg font-semibold">
                    Proses Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="mobile-menu">
        <div class="p-6">
            <div class="flex justify-between items-center mb-8">
                <h3 class="text-xl font-bold">Menu</h3>
                <button onclick="toggleMobileMenu()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            <nav class="space-y-4">
                <a href="#" onclick="showPage('home')" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">Beranda</a>
                <a href="#" onclick="showPage('category')" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">Kategori</a>
                <a href="#" onclick="showPage('sellers')" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">Penjual</a>
                <a href="#" onclick="showPage('products')" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">Produk</a>
                <a href="#" onclick="showPage('dropshipper')" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">Dropshipper</a>
                <a href="#" onclick="showPage('dashboard')" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">Dashboard</a>
                <hr class="my-4">
                <a href="#" onclick="showModal('authModal')" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">
                    <i class="fas fa-user mr-2"></i> Masuk / Daftar
                </a>
                <a href="#" onclick="showModal('authModal'); showSellerRegisterForm();" class="block py-2 text-pink-600 hover:text-pink-700 font-medium">
                    <i class="fas fa-store mr-2"></i> Jual Produk
                </a>
                <a href="#" onclick="showModal('authModal'); showDropshipperRegisterForm();" class="block py-2 text-green-600 hover:text-green-700 font-medium">
                    <i class="fas fa-truck mr-2"></i> Jadi Dropshipper
                </a>
                <a href="#" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">
                    <i class="fas fa-heart mr-2"></i> Wishlist
                </a>
                <a href="#" onclick="toggleCart()" class="block py-2 text-gray-700 hover:text-purple-600 font-medium">
                    <i class="fas fa-shopping-cart mr-2"></i> Keranjang
                </a>
            </nav>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Initialize AOS
        AOS.init({
            duration: 1000,
            once: true
        });

        // Global State
        let currentUser = null;
        let cart = [];
        let wishlist = [];
        let products = [];
        let sellers = [];
        let dropshippers = [];
        let filteredProducts = [];
        let currentPage = 'home';
        let commissions = [];
        let withdrawals = [];

        // Product Data
        const productData = [
            {
                id: 1,
                name: 'Laptop Gaming ASUS ROG Strix',
                category: 'computer',
                price: 15000000,
                originalPrice: 18750000,
                discount: 20,
                rating: 4.5,
                reviews: 128,
                image: 'https://picsum.photos/seed/laptop1/300/300',
                description: 'Laptop gaming dengan performa tinggi untuk pengalaman gaming maksimal.',
                stock: 10,
                sellerId: 1,
                commission: 15,
                soldCount: 0
            },
            {
                id: 2,
                name: 'Smartphone Samsung Galaxy S23',
                category: 'handphone',
                price: 12000000,
                rating: 5,
                reviews: 256,
                image: 'https://picsum.photos/seed/phone1/300/300',
                description: 'Smartphone flagship dengan kamera terbaik di kelasnya.',
                stock: 25,
                sellerId: 2,
                commission: 20,
                soldCount: 0
            },
            {
                id: 3,
                name: 'Headphone Sony WH-1000XM4',
                category: 'electronic',
                price: 4500000,
                rating: 4,
                reviews: 89,
                image: 'https://picsum.photos/seed/headphone1/300/300',
                description: 'Headphone wireless dengan noise cancelling terbaik.',
                stock: 15,
                sellerId: 1,
                commission: 15,
                soldCount: 0
            },
            {
                id: 4,
                name: 'Kaos Polos Premium',
                category: 'fashion-boys',
                price: 150000,
                rating: 4.5,
                reviews: 67,
                image: 'https://picsum.photos/seed/tshirt1/300/300',
                description: 'Kaos polos dengan bahan katun premium yang nyaman.',
                stock: 50,
                sellerId: 3,
                commission: 25,
                soldCount: 0
            },
            {
                id: 5,
                name: 'Sofa Minimalis 3 Seater',
                category: 'household',
                price: 3500000,
                rating: 4.8,
                reviews: 45,
                image: 'https://picsum.photos/seed/sofa1/300/300',
                description: 'Sofa minimalis dengan desain modern dan nyaman.',
                stock: 5,
                sellerId: 4,
                commission: 20,
                soldCount: 0
            },
            {
                id: 6,
                name: 'Sepatu Running Nike',
                category: 'sport',
                price: 1200000,
                originalPrice: 1500000,
                discount: 20,
                rating: 4.7,
                reviews: 234,
                image: 'https://picsum.photos/seed/shoes1/300/300',
                description: 'Sepatu running dengan teknologi terbaru untuk performa maksimal.',
                stock: 50,
                sellerId: 2,
                commission: 25,
                soldCount: 0
            },
            {
                id: 7,
                name: 'Mainan Edukatif Anak',
                category: 'children-toys',
                price: 250000,
                rating: 4.3,
                reviews: 78,
                image: 'https://picsum.photos/seed/toy1/300/300',
                description: 'Mainan edukatif untuk mengembangkan kreativitas anak.',
                stock: 30,
                sellerId: 5,
                commission: 30,
                soldCount: 0
            },
            {
                id: 8,
                name: 'Kamera DSLR Canon',
                category: 'electronic',
                price: 8500000,
                rating: 4.6,
                reviews: 112,
                image: 'https://picsum.photos/seed/camera1/300/300',
                description: 'Kamera DSLR dengan hasil foto profesional.',
                stock: 12,
                sellerId: 1,
                commission: 15,
                soldCount: 0
            },
            {
                id: 9,
                name: 'Lipstik Matte Premium',
                category: 'cosmetics',
                price: 250000,
                rating: 4.5,
                reviews: 189,
                image: 'https://picsum.photos/seed/lipstick1/300/300',
                description: 'Lipstik matte dengan hasil tahan lama dan nyaman.',
                stock: 60,
                sellerId: 6,
                commission: 30,
                soldCount: 0
            },
            {
                id: 10,
                name: 'Blender Philips',
                category: 'kitchen',
                price: 850000,
                rating: 4.4,
                reviews: 123,
                image: 'https://picsum.photos/seed/blender1/300/300',
                description: 'Blender dengan teknologi ProBlend 6 untuk hasil halus.',
                stock: 30,
                sellerId: 4,
                commission: 20,
                soldCount: 0
            },
            {
                id: 11,
                name: 'Buku Pemrograman Web',
                category: 'book',
                price: 150000,
                rating: 4.7,
                reviews: 95,
                image: 'https://picsum.photos/seed/book1/300/300',
                description: 'Buku panduan lengkap pemrograman web modern.',
                stock: 40,
                sellerId: 7,
                commission: 20,
                soldCount: 0
            },
            {
                id: 12,
                name: 'Aki Mobil NS Gold',
                category: 'automotive',
                price: 750000,
                rating: 4.5,
                reviews: 67,
                image: 'https://picsum.photos/seed/aki1/300/300',
                description: 'Aki mobil berkualitas tinggi dengan daya tahan lama.',
                stock: 20,
                sellerId: 8,
                commission: 15,
                soldCount: 0
            },
            {
                id: 13,
                name: 'Dress Wanita Elegant',
                category: 'fashion-girls',
                price: 350000,
                rating: 4.8,
                reviews: 142,
                image: 'https://picsum.photos/seed/dress1/300/300',
                description: 'Dress elegan untuk acara formal dan semi-formal.',
                stock: 35,
                sellerId: 3,
                commission: 25,
                soldCount: 0
            },
            {
                id: 14,
                name: 'Software Antivirus Premium',
                category: 'software',
                price: 450000,
                rating: 4.6,
                reviews: 87,
                image: 'https://picsum.photos/seed/software1/300/300',
                description: 'Software antivirus dengan proteksi maksimal.',
                stock: 100,
                sellerId: 9,
                commission: 30,
                soldCount: 0
            },
            {
                id: 15,
                name: 'Popok Bayi Premium',
                category: 'baby',
                price: 150000,
                rating: 4.7,
                reviews: 156,
                image: 'https://picsum.photos/seed/popok1/300/300',
                description: 'Popok bayi dengan bahan lembut dan aman.',
                stock: 80,
                sellerId: 10,
                commission: 25,
                soldCount: 0
            }
        ];

        // Sellers Data
        const sellersData = [
            {
                id: 1,
                name: 'Toko Maju Jaya',
                email: 'toko@majujaya.com',
                phone: '08123456789',
                address: 'Jakarta Selatan',
                description: 'Toko elektronik terlengkap dengan harga terbaik',
                rating: 4.8,
                totalProducts: 156,
                totalOrders: 2341,
                joinedDate: '2023-01-15',
                status: 'approved',
                image: 'https://picsum.photos/seed/seller1/100/100'
            },
            {
                id: 2,
                name: 'Gadget Store',
                email: 'info@gadgetstore.com',
                phone: '08198765432',
                address: 'Jakarta Pusat',
                description: 'Spesialis gadget dan aksesoris original',
                rating: 4.9,
                totalProducts: 89,
                totalOrders: 1876,
                joinedDate: '2023-02-20',
                status: 'approved',
                image: 'https://picsum.photos/seed/seller2/100/100'
            },
            {
                id: 3,
                name: 'Butik Cantik',
                email: 'hello@butikcantik.com',
                phone: '08111223344',
                address: 'Bandung',
                description: 'Fashion terkini untuk wanita modern',
                rating: 4.7,
                totalProducts: 234,
                totalOrders: 3456,
                joinedDate: '2023-01-10',
                status: 'approved',
                image: 'https://picsum.photos/seed/seller3/100/100'
            }
        ];

        // Initialize Data
        function initializeData() {
            products = [...productData];
            sellers = [...sellersData];
            filteredProducts = [...products];
            
            // Load data from localStorage
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
            }
            
            const savedCart = localStorage.getItem('cart');
            if (savedCart) {
                cart = JSON.parse(savedCart);
            }
            
            const savedWishlist = localStorage.getItem('wishlist');
            if (savedWishlist) {
                wishlist = JSON.parse(savedWishlist);
            }
            
            const savedCommissions = localStorage.getItem('commissions');
            if (savedCommissions) {
                commissions = JSON.parse(savedCommissions);
            }
            
            const savedWithdrawals = localStorage.getItem('withdrawals');
            if (savedWithdrawals) {
                withdrawals = JSON.parse(savedWithdrawals);
            }
            
            // Check for dropship parameter in URL
            const urlParams = new URLSearchParams(window.location.search);
            const dropshipId = urlParams.get('dropship');
            const productId = urlParams.get('product');
            
            if (dropshipId && productId) {
                // Process dropship order
                processDropshipOrder(dropshipId, productId);
            }
            
            renderProducts();
            updateCartUI();
            updateUserUI();
        }

        // Process Dropship Order
        function processDropshipOrder(dropshipId, productId) {
            const dropshipper = JSON.parse(localStorage.getItem('dropshippers') || '[]').find(d => d.id == dropshipId);
            const product = products.find(p => p.id == productId);
            
            if (dropshipper && product) {
                // Add to cart with dropship info
                const dropshipItem = {
                    ...product,
                    quantity: 1,
                    dropshipperId: dropshipId,
                    dropshipperName: dropshipper.name
                };
                
                cart.push(dropshipItem);
                updateCartUI();
                saveCartToLocalStorage();
                
                // Show notification
                showToast(`Produk dari dropshipper ${dropshipper.name} ditambahkan ke keranjang!`);
                
                // Clear URL parameters
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        }

        // Show Page
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageName + 'Page').classList.add('active');
            currentPage = pageName;
            
            // Update navigation dots
            document.querySelectorAll('.nav-dot').forEach(dot => {
                dot.classList.remove('active');
            });
            
            // Only update dots for main pages
            const mainPages = ['home', 'category', 'sellers', 'products', 'dropshipper', 'dashboard'];
            const pageIndex = mainPages.indexOf(pageName);
            if (pageIndex !== -1) {
                document.querySelectorAll('.nav-dot')[pageIndex].classList.add('active');
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Load page specific data
            if (pageName === 'products') {
                renderProducts();
            } else if (pageName === 'dropshipperDashboard') {
                renderCommissionHistory();
            }
        }

        // Show Dropshipper Dashboard
        function showDropshipperDashboard() {
            if (!currentUser || !currentUser.isDropshipper) {
                showToast('Silakan login sebagai dropshipper terlebih dahulu');
                return;
            }
            showPage('dropshipperDashboard');
        }

        // Show Dropshipper Profile
        function showDropshipperProfile() {
            if (!currentUser || !currentUser.isDropshipper) {
                showToast('Silakan login sebagai dropshipper terlebih dahulu');
                return;
            }
            showPage('dropshipperProfile');
        }

        // Get Page Index
        function getPageIndex(pageName) {
            const pages = ['home', 'category', 'sellers', 'products', 'dropshipper', 'dashboard'];
            return pages.indexOf(pageName);
        }

        // Render Products
        function renderProducts() {
            const grid = document.getElementById('productGrid');
            if (!grid) return;
            
            grid.innerHTML = filteredProducts.map(product => {
                const seller = sellers.find(s => s.id === product.sellerId);
                const discountHtml = product.discount ? `
                    <span class="product-badge">-${product.discount}%</span>
                ` : '';
                
                const originalPriceHtml = product.originalPrice ? `
                    <span class="text-gray-400 text-sm line-through ml-2">Rp ${product.originalPrice.toLocaleString('id-ID')}</span>
                ` : '';
                
                return `
                    <div class="product-card" data-aos="fade-up">
                        <div class="relative">
                            <img src="${product.image}" alt="${product.name}" class="product-image">
                            ${discountHtml}
                            <button onclick="toggleWishlist(${product.id})" class="absolute top-2 right-2 bg-white rounded-full p-2 shadow-md hover:bg-gray-100">
                                <i class="far fa-heart text-gray-600"></i>
                            </button>
                            <span class="dropship-badge">Komisi ${product.commission}%</span>
                        </div>
                        <div class="product-info">
                            <div class="flex items-center mb-2">
                                <img src="${seller?.image || 'https://picsum.photos/seed/default/30/30'}" class="w-6 h-6 rounded-full mr-2">
                                <span class="text-xs text-gray-500">${seller?.name || 'Unknown Seller'}</span>
                            </div>
                            <h3 class="font-semibold mb-2">${product.name}</h3>
                            <div class="flex items-center mb-2">
                                <div class="flex text-yellow-400 text-sm">
                                    ${generateStars(product.rating)}
                                </div>
                                <span class="text-gray-500 text-sm ml-2">(${product.reviews})</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div>
                                    <span class="text-purple-600 font-bold">Rp ${product.price.toLocaleString('id-ID')}</span>
                                    ${originalPriceHtml}
                                </div>
                                <button onclick="addToCart(${product.id})" class="bg-purple-600 text-white p-2 rounded-lg hover:bg-purple-700">
                                    <i class="fas fa-shopping-cart"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Generate Stars
        function generateStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 >= 0.5;
            const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt"></i>';
            }
            
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="far fa-star"></i>';
            }
            
            return stars;
        }

        // Filter Products
        function filterProducts(category) {
            if (category === 'all') {
                filteredProducts = [...products];
            } else {
                filteredProducts = products.filter(p => p.category === category);
            }
            
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            renderProducts();
            showPage('products');
        }

        // Sort Products
        function sortProducts(sortBy) {
            switch(sortBy) {
                case 'price-low':
                    filteredProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    filteredProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'name':
                    filteredProducts.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'rating':
                    filteredProducts.sort((a, b) => b.rating - a.rating);
                    break;
                case 'commission':
                    filteredProducts.sort((a, b) => b.commission - a.commission);
                    break;
                default:
                    filteredProducts = [...products];
            }
            renderProducts();
        }

        // Add to Cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity++;
            } else {
                cart.push({...product, quantity: 1});
            }
            
            updateCartUI();
            saveCartToLocalStorage();
            showToast(`${product.name} ditambahkan ke keranjang!`);
        }

        // Update Cart UI
        function updateCartUI() {
            const cartBadge = document.getElementById('cartBadge');
            const cartItems = document.getElementById('cartItems');
            const cartSubtotal = document.getElementById('cartSubtotal');
            const cartShipping = document.getElementById('cartShipping');
            const cartTotal = document.getElementById('cartTotal');
            
            // Update badge
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartBadge.textContent = totalItems;
            
            // Update cart items
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-gray-500 text-center py-8">Keranjang belanja kosong</p>';
            } else {
                cartItems.innerHTML = cart.map(item => {
                    const seller = sellers.find(s => s.id === item.sellerId);
                    return `
                        <div class="cart-item">
                            <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                            <div class="flex-1">
                                <div class="flex items-center mb-1">
                                    <img src="${seller?.image || 'https://picsum.photos/seed/default/20/20'}" class="w-5 h-5 rounded-full mr-2">
                                    <span class="text-xs text-gray-500">${seller?.name || 'Unknown Seller'}</span>
                                    ${item.dropshipperName ? `<span class="text-xs text-green-600 ml-1">(Dropshipper: ${item.dropshipperName})</span>` : ''}
                                </div>
                                <h4 class="font-medium text-sm">${item.name}</h4>
                                <p class="text-purple-600 font-semibold">Rp ${item.price.toLocaleString('id-ID')}</p>
                                <div class="flex items-center mt-1">
                                    <button onclick="updateCartQuantity(${item.id}, -1)" class="text-gray-500 hover:text-purple-600">
                                        <i class="fas fa-minus-circle"></i>
                                    </button>
                                    <span class="mx-3 font-medium">${item.quantity}</span>
                                    <button onclick="updateCartQuantity(${item.id}, 1)" class="text-gray-500 hover:text-purple-600">
                                        <i class="fas fa-plus-circle"></i>
                                    </button>
                                </div>
                            </div>
                            <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-600">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                }).join('');
            }
            
            // Update totals
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal > 100000 ? 0 : 15000;
            const total = subtotal + shipping;
            
            cartSubtotal.textContent = `Rp ${subtotal.toLocaleString('id-ID')}`;
            cartShipping.textContent = `Rp ${shipping.toLocaleString('id-ID')}`;
            cartTotal.textContent = `Rp ${total.toLocaleString('id-ID')}`;
        }

        // Save Cart to LocalStorage
        function saveCartToLocalStorage() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        // Update Cart Quantity
        function updateCartQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            
            if (item) {
                const newQuantity = item.quantity + change;
                if (newQuantity > 0) {
                    item.quantity = newQuantity;
                } else {
                    removeFromCart(productId);
                    return;
                }
            }
            
            updateCartUI();
            saveCartToLocalStorage();
        }

        // Remove from Cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
            saveCartToLocalStorage();
            showToast('Produk dihapus dari keranjang');
        }

        // Toggle Wishlist
        function toggleWishlist(productId) {
            const product = products.find(p => p.id === productId);
            const index = wishlist.findIndex(item => item.id === productId);
            
            if (index > -1) {
                wishlist.splice(index, 1);
                showToast(`${product.name} dihapus dari wishlist`);
            } else {
                wishlist.push(product);
                showToast(`${product.name} ditambahkan ke wishlist`);
            }
            
            localStorage.setItem('wishlist', JSON.stringify(wishlist));
        }

        // Toggle Cart
        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            cartSidebar.classList.toggle('open');
        }

        // Toggle Mobile Menu
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.classList.toggle('open');
        }

        // Show Dashboard
        function showDashboard() {
            if (!currentUser) {
                showModal('authModal');
                return;
            }
            showPage('dashboard');
        }

        // Show Modal
        function showModal(modalId) {
            document.getElementById(modalId).classList.add('show');
        }

        // Close Modal
        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('show');
        }

        // Show Login Form
        function showLoginForm() {
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('sellerRegisterForm').classList.add('hidden');
            document.getElementById('dropshipperRegisterForm').classList.add('hidden');
            document.getElementById('loginForm').classList.remove('hidden');
        }

        // Show Register Form
        function showRegisterForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('sellerRegisterForm').classList.add('hidden');
            document.getElementById('dropshipperRegisterForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
        }

        // Show Seller Register Form
        function showSellerRegisterForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('dropshipperRegisterForm').classList.add('hidden');
            document.getElementById('sellerRegisterForm').classList.remove('hidden');
        }

        // Show Dropshipper Register Form
        function showDropshipperRegisterForm() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('sellerRegisterForm').classList.add('hidden');
            document.getElementById('dropshipperRegisterForm').classList.remove('hidden');
        }

        // Handle Login
        function handleLogin(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const email = formData.get('email');
            const password = formData.get('password');
            
            // Check if user exists
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                closeModal('authModal');
                showToast('Login berhasil!');
                updateUserUI();
            } else {
                showToast('Email atau password salah');
            }
        }

        // Handle Register
        function handleRegister(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const name = formData.get('name');
            const email = formData.get('email');
            const password = formData.get('password');
            const confirmPassword = formData.get('confirmPassword');
            
            // Validate password
            if (password !== confirmPassword) {
                showToast('Password tidak cocok');
                return;
            }
            
            // Check if user already exists
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.some(u => u.email === email)) {
                showToast('Email sudah terdaftar');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                name,
                email,
                password,
                isSeller: false,
                isDropshipper: false,
                registeredAt: new Date().toISOString()
            };
            
            // Save to localStorage
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            closeModal('authModal');
            showToast('Registrasi berhasil!');
            updateUserUI();
        }

        // Handle Seller Register
        function handleSellerRegister(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const storeName = formData.get('storeName');
            const name = formData.get('name');
            const email = formData.get('email');
            const phone = formData.get('phone');
            const password = formData.get('password');
            const confirmPassword = formData.get('confirmPassword');
            const description = formData.get('description');
            const address = formData.get('address');
            
            // Validate password
            if (password !== confirmPassword) {
                showToast('Password tidak cocok');
                return;
            }
            
            // Check if user already exists
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.some(u => u.email === email)) {
                showToast('Email sudah terdaftar');
                return;
            }
            
            // Create new seller
            const newSeller = {
                id: Date.now(),
                storeName,
                name,
                email,
                phone,
                password,
                description,
                address,
                rating: 0,
                totalProducts: 0,
                totalOrders: 0,
                totalRevenue: 0,
                status: 'pending',
                joinedDate: new Date().toISOString().split('T')[0],
                isSeller: true,
                isDropshipper: false,
                registeredAt: new Date().toISOString()
            };
            
            // Save to localStorage
            const sellers = JSON.parse(localStorage.getItem('sellers') || '[]');
            sellers.push(newSeller);
            localStorage.setItem('sellers', JSON.stringify(sellers));
            
            // Also save as user
            users.push({
                id: newSeller.id,
                name: newSeller.name,
                email: newSeller.email,
                password: newSeller.password,
                isSeller: true,
                isDropshipper: false,
                registeredAt: newSeller.registeredAt
            });
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = {
                id: newSeller.id,
                name: newSeller.name,
                email: newSeller.email,
                isSeller: true,
                isDropshipper: false
            };
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            closeModal('authModal');
            showToast('Pendaftaran penjual berhasil! Menunggu persetujuan admin.');
            updateUserUI();
        }

        // Handle Dropshipper Register
        function handleDropshipperRegister(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const name = formData.get('name');
            const email = formData.get('email');
            const phone = formData.get('phone');
            const password = formData.get('password');
            const confirmPassword = formData.get('confirmPassword');
            const platform = formData.get('platform') || '';
            const storeLink = formData.get('storeLink') || '';
            const bankAccountName = formData.get('bankAccountName');
            const bankName = formData.get('bankName');
            const bankAccountNumber = formData.get('bankAccountNumber');
            
            // Validate password
            if (password !== confirmPassword) {
                showToast('Password tidak cocok');
                return;
            }
            
            // Check if user already exists
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            if (users.some(u => u.email === email)) {
                showToast('Email sudah terdaftar');
                return;
            }
            
            // Create new dropshipper
            const newDropshipper = {
                id: Date.now(),
                name,
                email,
                phone,
                password,
                platform,
                storeLink,
                bankAccountName,
                bankName,
                bankAccountNumber,
                totalSales: 0,
                totalCommission: 0,
                status: 'active',
                joinedDate: new Date().toISOString().split('T')[0],
                isSeller: false,
                isDropshipper: true,
                registeredAt: new Date().toISOString()
            };
            
            // Save to localStorage
            const dropshippers = JSON.parse(localStorage.getItem('dropshippers') || '[]');
            dropshippers.push(newDropshipper);
            localStorage.setItem('dropshippers', JSON.stringify(dropshippers));
            
            // Also save as user
            users.push({
                id: newDropshipper.id,
                name: newDropshipper.name,
                email: newDropshipper.email,
                password: newDropshipper.password,
                isSeller: false,
                isDropshipper: true,
                registeredAt: newDropshipper.registeredAt
            });
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = {
                id: newDropshipper.id,
                name: newDropshipper.name,
                email: newDropshipper.email,
                isSeller: false,
                isDropshipper: true
            };
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            closeModal('authModal');
            showToast('Pendaftaran dropshipper berhasil! Selamat berjualan.');
            updateUserUI();
        }

        // Handle Edit Dropshipper
        function handleEditDropshipper(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            // Update current user
            currentUser.name = formData.get('name');
            currentUser.phone = formData.get('phone');
            currentUser.platform = formData.get('platform');
            currentUser.storeLink = formData.get('storeLink');
            
            // Save to localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update in dropshippers array
            const dropshippers = JSON.parse(localStorage.getItem('dropshippers') || '[]');
            const index = dropshippers.findIndex(d => d.id === currentUser.id);
            if (index !== -1) {
                dropshippers[index] = {...dropshippers[index], ...currentUser};
                localStorage.setItem('dropshippers', JSON.stringify(dropshippers));
            }
            
            closeModal('editDropshipperModal');
            showToast('Profil berhasil diperbarui!');
            updateUserUI();
        }

        // Handle Edit Bank Account
        function handleEditBankAccount(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            
            // Update current user
            currentUser.bankAccountName = formData.get('bankAccountName');
            currentUser.bankName = formData.get('bankName');
            currentUser.bankAccountNumber = formData.get('bankAccountNumber');
            
            // Save to localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update in dropshippers array
            const dropshippers = JSON.parse(localStorage.getItem('dropshippers') || '[]');
            const index = dropshippers.findIndex(d => d.id === currentUser.id);
            if (index !== -1) {
                dropshippers[index] = {...dropshippers[index], ...currentUser};
                localStorage.setItem('dropshippers', JSON.stringify(dropshippers));
            }
            
            closeModal('editBankAccountModal');
            showToast('Informasi rekening berhasil diperbarui!');
            updateUserUI();
        }

        // Update User UI
        function updateUserUI() {
            // Update dashboard if on dashboard page
            if (currentPage === 'dashboard' || currentPage === 'dropshipperDashboard' || currentPage === 'dropshipperProfile') {
                showPage(currentPage);
            }
        }

        // Share Dropship Product
        function shareDropshipProduct(productId) {
            const product = products.find(p => p.id === productId);
            
            if (!currentUser || !currentUser.isDropshipper) {
                showToast('Silakan daftar sebagai dropshipper terlebih dahulu');
                return;
            }
            
            // Generate dropship link
            const dropshipLink = `${window.location.origin}?dropship=${currentUser.id}&product=${productId}`;
            
            // Copy to clipboard
            if (navigator.clipboard) {
                navigator.clipboard.writeText(dropshipLink).then(() => {
                    showToast('Link dropship berhasil disalin!');
                }).catch(() => {
                    // Fallback for older browsers
                    const textArea = document.createElement('textarea');
                    textArea.value = dropshipLink;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    showToast('Link dropship berhasil disalin!');
                });
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = dropshipLink;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast('Link dropship berhasil disalin!');
            }
        }

        // Get Dropshipper Stats
        function getDropshipperStats() {
            if (!currentUser || !currentUser.isDropshipper) {
                return {
                    totalSales: 0,
                    totalCommission: 0,
                    pendingCommission: 0,
                    availableCommission: 0,
                    withdrawnCount: 0
                };
            }
            
            // Get all commissions for this dropshipper
            const dropshipperCommissions = commissions.filter(c => c.dropshipperId === currentUser.id);
            
            // Get all withdrawals for this dropshipper
            const dropshipperWithdrawals = withdrawals.filter(w => w.dropshipperId === currentUser.id);
            
            // Calculate stats
            const totalSales = dropshipperCommissions.reduce((sum, c) => sum + c.quantity, 0);
            const totalCommission = dropshipperCommissions.reduce((sum, c) => sum + c.amount, 0);
            const pendingCommission = dropshipperCommissions
                .filter(c => c.status === 'pending')
                .reduce((sum, c) => sum + c.amount, 0);
            const withdrawnAmount = dropshipperWithdrawals
                .filter(w => w.status === 'completed')
                .reduce((sum, w) => sum + w.amount, 0);
            const availableCommission = totalCommission - withdrawnAmount;
            
            return {
                totalSales,
                totalCommission,
                pendingCommission,
                availableCommission,
                withdrawnCount: dropshipperWithdrawals.filter(w => w.status === 'completed').length
            };
        }

        // Get Top Selling Products
        function getTopSellingProducts() {
            if (!currentUser || !currentUser.isDropshipper) {
                return [];
            }
            
            // Get all commissions for this dropshipper
            const dropshipperCommissions = commissions.filter(c => c.dropshipperId === currentUser.id);
            
            // Group by product and calculate sold count
            const productSales = {};
            dropshipperCommissions.forEach(c => {
                if (!productSales[c.productId]) {
                    productSales[c.productId] = 0;
                }
                productSales[c.productId] += c.quantity;
            });
            
            // Get product details and sort by sold count
            return Object.keys(productSales)
                .map(productId => {
                    const product = products.find(p => p.id == productId);
                    return {
                        ...product,
                        soldCount: productSales[productId]
                    };
                })
                .sort((a, b) => b.soldCount - a.soldCount)
                .slice(0, 3);
        }

        // Render Commission History
        function renderCommissionHistory() {
            const historyContainer = document.getElementById('commissionHistory');
            if (!historyContainer) return;
            
            if (!currentUser || !currentUser.isDropshipper) {
                historyContainer.innerHTML = '<tr><td colspan="4" class="text-center py-4 text-gray-500">Data tidak tersedia</td></tr>';
                return;
            }
            
            // Get all commissions for this dropshipper
            const dropshipperCommissions = commissions.filter(c => c.dropshipperId === currentUser.id);
            
            if (dropshipperCommissions.length === 0) {
                historyContainer.innerHTML = '<tr><td colspan="4" class="text-center py-4 text-gray-500">Belum ada riwayat komisi</td></tr>';
                return;
            }
            
            // Sort by date (newest first)
            dropshipperCommissions.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Render history
            historyContainer.innerHTML = dropshipperCommissions.map(c => {
                const product = products.find(p => p.id === c.productId);
                const statusClass = c.status === 'paid' ? 'status-paid' : 'status-pending';
                const statusText = c.status === 'paid' ? 'Dibayarkan' : 'Pending';
                
                return `
                    <tr class="border-b">
                        <td class="py-2">${new Date(c.date).toLocaleDateString('id-ID')}</td>
                        <td class="py-2">${product?.name || 'Produk tidak ditemukan'}</td>
                        <td class="py-2">Rp ${c.amount.toLocaleString('id-ID')}</td>
                        <td class="py-2"><span class="commission-status ${statusClass}">${statusText}</span></td>
                    </tr>
                `;
            }).join('');
        }

        // Request Withdrawal
        function requestWithdrawal() {
            if (!currentUser || !currentUser.isDropshipper) {
                showToast('Silakan login sebagai dropshipper terlebih dahulu');
                return;
            }
            
            const stats = getDropshipperStats();
            
            if (stats.availableCommission < 50000) {
                showToast('Komisi minimal Rp 50.000 untuk ditarik');
                return;
            }
            
            showModal('withdrawalModal');
        }

        // Handle Withdrawal
        function handleWithdrawal(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const amount = parseInt(formData.get('amount'));
            
            if (amount < 50000) {
                showToast('Minimal penarikan Rp 50.000');
                return;
            }
            
            const stats = getDropshipperStats();
            
            if (amount > stats.availableCommission) {
                showToast('Jumlah penarikan melebihi komisi yang tersedia');
                return;
            }
            
            // Create withdrawal request
            const withdrawal = {
                id: Date.now(),
                dropshipperId: currentUser.id,
                amount: amount,
                bankAccountName: currentUser.bankAccountName,
                bankName: currentUser.bankName,
                bankAccountNumber: currentUser.bankAccountNumber,
                status: 'pending',
                date: new Date().toISOString()
            };
            
            // Save to localStorage
            withdrawals.push(withdrawal);
            localStorage.setItem('withdrawals', JSON.stringify(withdrawals));
            
            closeModal('withdrawalModal');
            showToast('Permintaan penarikan berhasil diajukan!');
            
            // Update UI
            if (currentPage === 'dropshipperDashboard') {
                showPage('dropshipperDashboard');
            }
        }

        // Logout
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            showPage('home');
            showToast('Anda telah logout');
        }

        // Proceed to Checkout
        function proceedToCheckout() {
            if (cart.length === 0) {
                showToast('Keranjang belanja kosong!');
                return;
            }
            
            if (!currentUser) {
                showModal('authModal');
                return;
            }
            
            // Generate order ID
            const orderId = 'ORDER-' + Date.now();
            
            // Hitung total
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal > 100000 ? 0 : 15000;
            const total = subtotal + shipping;

            // Data untuk Midtrans
            const transactionData = {
                transaction_details: {
                    order_id: orderId,
                    gross_amount: total
                },
                customer_details: {
                    email: currentUser.email,
                    name: currentUser.name
                },
                item_details: cart.map(item => ({
                    id: item.id,
                    price: item.price,
                    quantity: item.quantity,
                    name: item.name
                }))
            };

            // Token dummy untuk testing
            const snapToken = 'YOUR_SNAP_TOKEN';
            
            // Buka Midtrans Snap
            window.snap.pay(snapToken, {
                onSuccess: function(result) {
                    saveOrder(orderId, 'success');
                    cart = [];
                    updateCartUI();
                    saveCartToLocalStorage();
                    toggleCart();
                    showToast('Pembayaran berhasil!');
                },
                onPending: function(result) {
                    saveOrder(orderId, 'pending');
                    showToast('Menunggu pembayaran');
                },
                onError: function(result) {
                    showToast('Pembayaran gagal');
                }
            });
        }

        // Save Order
        function saveOrder(orderId, status) {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal > 100000 ? 0 : 15000;
            
            const order = {
                id: orderId,
                userId: currentUser.id,
                items: [...cart],
                status: status,
                subtotal: subtotal,
                shipping: shipping,
                total: subtotal + shipping,
                date: new Date().toISOString()
            };
            
            orders.push(order);
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // Process dropshipper commissions
            cart.forEach(item => {
                if (item.dropshipperId) {
                    const commissionAmount = Math.floor(item.price * item.commission / 100) * item.quantity;
                    
                    // Create commission record
                    const commission = {
                        id: Date.now() + Math.random(),
                        dropshipperId: item.dropshipperId,
                        orderId: orderId,
                        productId: item.id,
                        quantity: item.quantity,
                        amount: commissionAmount,
                        status: 'pending',
                        date: new Date().toISOString()
                    };
                    
                    // Save commission
                    commissions.push(commission);
                    localStorage.setItem('commissions', JSON.stringify(commissions));
                    
                    // Update product sold count
                    const product = products.find(p => p.id === item.id);
                    if (product) {
                        product.soldCount += item.quantity;
                        localStorage.setItem('products', JSON.stringify(products));
                    }
                }
                
                // Update seller stats
                const seller = sellers.find(s => s.id === item.sellerId);
                if (seller && status === 'success') {
                    seller.totalOrders++;
                    seller.totalRevenue += item.price * item.quantity;
                    
                    // Update seller in storage
                    const sellers = JSON.parse(localStorage.getItem('sellers') || '[]');
                    const sellerIndex = sellers.findIndex(s => s.id === seller.id);
                    if (sellerIndex > -1) {
                        sellers[sellerIndex] = seller;
                        localStorage.setItem('sellers', JSON.stringify(sellers));
                    }
                }
            });
        }

        // Show Toast Notification
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Header Scroll Effect
        window.addEventListener('scroll', function() {
            const header = document.getElementById('mainHeader');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Keyboard Navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') {
                const pages = ['home', 'category', 'sellers', 'products', 'dropshipper', 'dashboard'];
                const currentIndex = pages.indexOf(currentPage);
                if (currentIndex < pages.length - 1) {
                    showPage(pages[currentIndex + 1]);
                }
            } else if (e.key === 'ArrowLeft') {
                const pages = ['home', 'category', 'sellers', 'products', 'dropshipper', 'dashboard'];
                const currentIndex = pages.indexOf(currentPage);
                if (currentIndex > 0) {
                    showPage(pages[currentIndex - 1]);
                }
            }
        });

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            initializeData();
        });

        // Add filter button styles
        const style = document.createElement('style');
        style.textContent = `
            .filter-btn {
                padding: 0.5rem 1rem;
                border-radius: 9999px;
                font-size: 0.875rem;
                cursor: pointer;
                transition: all 0.2s;
                background: #f3f4f6;
                color: #4b5563;
            }
            .filter-btn:hover {
                background: #e5e7eb;
            }
            .filter-btn.active {
                background: #667eea;
                color: white;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
